(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9403:function(e,t,r){Promise.resolve().then(r.bind(r,1789))},835:function(e,t,r){"use strict";r.d(t,{rl:function(){return s}});let s="http://localhost:3031"},1789:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(7437),l=r(835),n=r(8472),a=r(2265);function d(){let[e,t]=(0,a.useState)([]),[r,d]=(0,a.useState)(!0),[i,c]=(0,a.useState)(null),[h,o]=(0,a.useState)(""),x=async()=>{try{let{data:e}=(await n.Z.get(l.rl+"/api/sales_detail/all/0")).data;console.log(e),t(e)}catch(e){console.error("Error fetching data:",e),n.Z.isAxiosError(e)?c(e.message):c("An unexpected error occurred.")}finally{d(!1)}};(0,a.useEffect)(()=>{x()},[]);let u=e.reduce((e,t)=>e+Number(t.total_bayar),0),j=e.filter(e=>e.sales_id.toString().includes(h)||e.name.toLowerCase().includes(h.toLowerCase())||e.tgl.includes(h));return(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Dashboard"}),(0,s.jsx)("a",{href:"/dashboard/tambah",children:"Tambah Transaksi"}),(0,s.jsxs)("div",{className:"datatable",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search...",value:h,onChange:e=>o(e.target.value),className:"mb-4 p-2 border border-gray-300 rounded"}),r?(0,s.jsx)("p",{children:"Loading..."}):i?(0,s.jsxs)("p",{children:["Error: ",i]}):(0,s.jsxs)("table",{style:{width:"100%",border:"solid 1px black",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"No"}),(0,s.jsx)("th",{children:"No Transaksi"}),(0,s.jsx)("th",{children:"Tanggal"}),(0,s.jsx)("th",{children:"Nama Customer"}),(0,s.jsx)("th",{children:"Jumlah Barang"}),(0,s.jsx)("th",{children:"Sub total"}),(0,s.jsx)("th",{children:"Diskon"}),(0,s.jsx)("th",{children:"Ongkir"}),(0,s.jsx)("th",{children:"Total"})]})}),(0,s.jsx)("tbody",{children:j.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{children:e.sales_id}),(0,s.jsx)("td",{children:e.tgl}),(0,s.jsx)("td",{children:e.name}),(0,s.jsx)("td",{children:e.qty}),(0,s.jsx)("td",{children:e.subtotal}),(0,s.jsx)("td",{children:e.diskon||0})," ",(0,s.jsx)("td",{children:e.ongkir||0})," ",(0,s.jsx)("td",{children:e.total_bayar})]},e.sales_id))}),(0,s.jsx)("tfoot",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{colSpan:8,style:{textAlign:"right"},children:"Grand Total"}),(0,s.jsx)("td",{colSpan:1,children:u})]})})]})]})]})}}},function(e){e.O(0,[472,971,23,744],function(){return e(e.s=9403)}),_N_E=e.O()}]);